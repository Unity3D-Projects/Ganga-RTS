<link rel="stylesheet" type="text/css" href="css/settings.css">
<script type='text/javascript' src="js/settings.js"></script>
<link rel="stylesheet" type="text/css" href="css/loading.css">
<script type='text/javascript' src="js/loading.js"></script>
<style type='text/css'>
html {
    height: 100%;
    width: 100%;
	position: absolute; 
}
.loading {
    background: url("background-mountans-dark.png") no-repeat;
	background-size: 100%;
}
.container {
    height: 18%;
    width: 100%;
	bottom: 3%;
	position: absolute; 
	text-align: center;
	z-index: -1;
}
.block {
    height: 100%;
	display: inline-block;
	vertical-align: top;
}
.lblock {
    width: 25.0%;
}
.cblock {
    width: 38.0%;
}
.rblock {
    width: 27.0%;
}
.content {
	position: absolute;
    font-size: 13pt;
    height: 100%;
	padding: 8% 1%;
    margin: 3px;
    background: url(background.png) no-repeat;
	background-size: 100%;
	text-align: left;
	overflow: hidden;
}
.element {
	image-rendering: crisp-edges;
	width: auto;
	height: 27%;
    border: 1px solid black;
	display: inline-block;
}
.title {
    font-size: 2.5vh;
	font-weight: bold;
	padding-bottom: 2px;
    text-shadow: 1px 1px 1px #000;
}
.resources {
    font-size: 2.1vh;
}
.infoBlock {
	height: 28%;
	width: 88%;
	display: inline-block;
	position: absolute;
}
.description {
	position: absolute;
	height: 50px;
	width: 100%;
    font-size: 1.7vh;
	display: inline-block;
	overflow: ellipsis;
    text-shadow: 1px 1px 1px #000;
}
.stats {
	width: 100%; 
	display: inline-block;
}
.stats > p{
	font-weight: bold;
	margin: 0px;
	width: 32%;
    font-size: 1.5vh;
	color: #96C2FF;
    text-shadow: 1px 1px 1px #000;
	display: inline-block;
}
.errorMessage {
	font-weight: bold;
	margin: 0px;
	width: 99%;
    font-size: 1.6vh;
	color: red;
    text-shadow: 1px 1px 1px #000;
	display: inline-block;
	padding: 0px 0px 5px 0px;
}
.healthback {
	right: 0px;
	margin-top: 3%;
    border: 1px solid black;
    background: gray;
    float: right;
	height: 6%;
	width: 50%; 
}
.health {
	position: relative; 
	height: 100%;
    background: #B20707;
}
.query{
    background: url(background.png) no-repeat;
	background-size: 100%;
    border: 1px solid black;
	height: 100%;
	width: 100%;
}
.production{
	margin: 2px;
	display: inline-block;
	margin: 7% 0 7% 6px;
	height: 85%;
    border: 1px solid black;
	background-size: 100%;
}
.production > img {
	position: absolute; 
	height: 85%;
}
.production > div {
	position: relative;
	height: 100%;
    background: rgba(205, 214, 219, 0.5);
}
.messages {
	height: 20%;
	width: 100%;
	bottom: 23%;
	position: absolute;
	text-align: center;
	display: table-cell;
	vertical-align: bottom;
	overflow: hide;
}
.messages > .msgbox{
	display: inline-block;
	width: 60%;
}
.msg {
	margin: 1px;
    font-size: 100%;
	padding: 6px 16px;
	display: inline-block;
    background: url(background.png) no-repeat;
	background-size: 100%;
    text-shadow: 1px 1px 1px #000;
}
.containerDescription {
    height: 76.5%;
    width: 100%;
	position: absolute;
}
.altInfo {
	position: absolute;
	margin: 0px;
	padding: 1% 1% 2% 1%;
	vertical-align: top;
	height: auto;
    width: 27%;
	left: 69.2%;
	bottom: 0px;
}
.altInfo > .infoBlock {
	height: auto;
	width: 100%;
	position: relative;
}
.altInfo > .infoBlock > .description {
	height: auto;
	position: relative;
	padding-bottom: 5px;
}
.altInfo > .stats > p{
	width: 49%;
	position: relative;
	height: auto;
}
.costs {
	padding-bottom: 5px;
}
.costs > p{
	display: block;
	color: #89FFC1;
}
.dinamicInfo {
	height: auto;
	width: auto;
}
.dinamicInfo > p {
    text-shadow: 1px 1px 1px #000;
	padding: 0px;
	margin: 0px;
	font-weight: bold;
    font-size: 1.5vh;
	color: #89FFC1;
}
.elementsBlock {
	height: 28%;
	width: 99%;
	padding-bottom: 4%;
}
.elementsContent {
	margin-right: 5px;
	margin-bottom: 5px;
	height: 28%;
	width: auto;
	display: inline-block;
}
.elementsContent > img {
	position: absolute;
    border: 1px solid black;
	height: 28%;
	width: auto;
    border: 1px solid black;
	display: inline-block;
}
.elementsContent > .hotkey {
	margin: 5%;
    font-size: 1vh;
	background: grey;
	height: 25%;
	width: 25%;
	text-align: center;
    border: 1px solid black;
}
.elementsBlock > .elementsContent > .hotkey {
	height: 100%;

}
.skills > .elementsContent > img{
    background: darkorange;
    border: 1px solid darkorange;
}
.skills > .elementsContent > .hotkey {
    background: darkorange;
}
.upgrades > .elementsContent > img {
    background: darkblue;
    border: 1px solid darkblue;
}
.upgrades > .elementsContent > .hotkey {
    background: darkblue;
}
.error > img {
    background: darkred!important;
    border: 1px solid darkred!important;
}
.error > .hotkey {
    background: darkred!important;
}

.mapBlock {
	background-size: 100%;
	background: green;
}
.minimap {
	margin-left: 50%;
	margin-top: 6%;
	height: 100%;
	width: 45%;
}
.map {
    text-align: center;
	position: relative;
	-spark-filter: opacity(40%), invert(100%);
}
.blindFog {
	top: -100%;
	position: relative;
	height: 100%;
	width: 100%;
}
.units {
	margin-top: -100%;
	position: relative;
	height: 100%;
	width: 100%;
}
.units > .unit {
	bottom: 25%;
	position: absolute;
	height: 1.5%;
	width: 1.5%;
	background: white;
    border: 1px solid black;
}
.mapCamera {
	position: relative;
    border: 1px solid #CDCCCC;
	transform-origin: center center;
}
.chatBox {
    height: 20%;
    width: 30%;
	position: absolute;
}
.chat {
    text-shadow: 1px 1px 1px #000;
    height: 90%;
    width: 100%;
	display: table-cell;
	vertical-align: bottom;
	overflow: hide;
}
.chat > div {
}
.chatBox > input {
	left: 1%;
	top: 90%;
	background: grey;
    height: 20px;
	position: absolute;
    width: 73%;
	display: block;
}
.chatBox > .button {
	top: 90%;
	color: #BABABA;
	background: #363636;
	text-align: center;
    height: 20px;
	position: absolute;
	left: 75%;
    width: 25%;
	display: inline-block;
    border: 1px solid black;
}
.chatBox > .button:hover {
	color: white;
	background: #595959;
}
.cblock > .elementsBlock > .title {
    width: 50%;
    height: 70%;
	overflow: ellipsis;
}
.buttons {
    height: 10%;
    width: 100%;
	position: absolute;
}
.buttons > .buttonMenu{
	right: 0px;
    float: right;
	padding: 1px 3px;
	text-align: center;
	margin-right: 20px;
	padding-top: 3px;
    font-size: 9pt;
    height: 16px;
    width: 90px;
    background: url("button gray.png") no-repeat;
	background-size: 100%;
}
.menu {
	top: 40%;
	width: 100%;
	height: 40%;
	position: absolute;
	text-align: center;
}
.menu > div {
	text-align: center;
	display: inline-block;
	width: 300px;
	padding: 10px;
	height: auto;
    background: url("paper simple.png") no-repeat;
	background-size: 100%;
}
.menu > div > div {
	margin: 5px 0px;
	color: #B0B0B0;
	display: inline-block;
	width: 80%;
	padding: 7px;
    background: url("button gray.png") no-repeat;
	background-size: 100%;
    text-shadow: 1px 1px 1px #000;
}
.menu > div > div:hover {
	color: white;
}
.gameInfo{
	position: absolute;
	top: 73%;
	left: 2%;
	height: 4.5%;
	width: 50%;
}
.workers {
    background: url("commands/static-guard.png") no-repeat;
	background-size: 100%;
}
.gameInfo > .elementsContent {
	position: relative;
	height: 100%;
	width: 5%;
}
.gameInfo > .elementsContent > img {
	height: 100%;
	width: auto;
}
.gameInfo > .elementsContent > .hotkey {
	color: white;
    font-size: 7pt;
	position: absolute;
	height: 10px;
	width: 10px;
	background: #262626;
}
.gameInfo > .elementsContent > .count {
	top: 2px;
}
.gameInfo > .elementsContent > .info {
	background: #474747;
	bottom: 0px;
	height: 11px;
	width: 13px;
}
.window {
	top: 6%;
	left: 25%;
	width: 50%;
	height: 70%;
	position: absolute;
	text-align: center;
    background: url("paper dark") no-repeat;
	background-size: 100%;
}
.window > .bigMap {
	padding: 5%;
	position: absolute;
	width: 90%;
	height: 90%;
}
.closeWindow {
	color: gray;
    font-size: 110%;
	font-weight: bold;
	text-align: center;
	height: 4%;
	width: 5%;
	right: 0px;
	position: absolute;
    background: url("button gray.png") no-repeat;
	background-size: 100%;
}
.secondWindow {
	margin-left: 360px;
	padding: 15px;
	top: 6%;
	left: 50%;
	position: absolute;
	height: 150px;
	width: 200px;
    background: url("paper dark") no-repeat;
	background-size: 100%;
}
.secondWindow > p {
	margin: 4px 0;
	color: grey;
    text-shadow: 1px 1px 1px #000;
}
.secondWindow > p:hover {
	color: white;
}
.closeWindow:hover {
	color: red;
}
.loading > .loadingBlock {
    background-image: url("paper dark.png") no-repeat;
}
.SettingsWindow {
	left: 50%;
	margin-left: -350px;
	width: 700px;
	text-align: center;
}
.SettingsContent {
	height: 80%;
	margin: 5% 5% 0 5%;
}
.settingsMessage {
	width: 100%;
	text-align: center;
	padding-bottom: 5px;
    text-shadow: 1px 1px 1px #000;
}
.settingsButton {
	margin-left: 10px;
	padding: 4px 7px;
	width: 100px;
	background-size: 100%;
	display: inline-block;
	color: gray;
}
.settingsButton:hover {
	color: white;
}
.closeSettings {
    background: url("button gray.png") no-repeat;
}
.saveSettings {
    background: url("button red.png") no-repeat;
}
</style>
<script>
	function CreateMessage(message, timeout, uniqueMessage) {
        var parentElement = document.getElementsByClassName("messages")[0];
        var msgboxDiv = document.createElement("div");
        msgboxDiv.className = "msgbox";
		if (uniqueMessage != "")
			msgboxDiv.className += " " + uniqueMessage;
        parentElement.appendChild(msgboxDiv);

        var innerDiv = document.createElement("div");
        innerDiv.className = "msg";
        innerDiv.textContent = message;
        msgboxDiv.appendChild(innerDiv);

		setTimeout(function() {
			msgboxDiv.remove();
		}, timeout)
	}
	function CreateInput() {
        var chatElement = document.getElementsByClassName("chatBox")[0];
        var inputElement = document.createElement("input");
        inputElement.className = "chatInput clckable";
        chatElement.appendChild(inputElement);
		inputElement.focus();

        var buttonElement = document.createElement("div");
        buttonElement.className = "button chatSend clckable";
        buttonElement.innerText = "Send";
        chatElement.appendChild(buttonElement);
	}
	function CreateMenu() {
        var menuHolder = document.getElementsByClassName("menu")[0];
        var element = document.createElement("div");
        menuHolder.appendChild(element);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable MainMenuButton CloseMenu";
        menuElement.innerText = "Return to game";
        element.appendChild(menuElement);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable MainMenuButton CreateSettings";
        menuElement.innerText = "Settings";
        element.appendChild(menuElement);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable MainMenuButton GoToMainMenu";
        menuElement.innerText = "Return to main menu";
        element.appendChild(menuElement);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable MainMenuButton CloseTheGame";
        menuElement.innerText = "Exit from the game";
        element.appendChild(menuElement);
	}
	function CreateInfoButton(className, count, hotkey, img) {
        var infoHolder = document.getElementsByClassName("gameInfo")[0];
        var elementHolder = document.createElement("div");
        elementHolder.className = "clckable elementsContent";
        infoHolder.appendChild(elementHolder);
		
        var element = document.createElement("img");
        element.className = className;
        element.src = img;
        elementHolder.appendChild(element);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable hotkey count";
        menuElement.innerText = count;
        elementHolder.appendChild(menuElement);
		
        var menuElement = document.createElement("div");
        menuElement.className = "clckable hotkey info";
        menuElement.innerText = hotkey;
        elementHolder.appendChild(menuElement);
	}
	function DisplayBigMapWindow() {
        var htmlBlock = document.getElementsByTagName("html")[0];

        var windowBlock = document.createElement("div");
        windowBlock.className = "window";
        htmlBlock.appendChild(windowBlock);

        var bapBlock = document.createElement("div");
        bapBlock.className = "bigMap";
        windowBlock.appendChild(bapBlock);

        var mapBlock = document.createElement("div");
        mapBlock.className = "mapBlock";
        bapBlock.appendChild(mapBlock);
		
        var element = document.createElement("img");
        element.className = "map clckable";
        mapBlock.appendChild(element);
		
        var element = document.createElement("div");
        element.className = "mapHolder clckable";
        mapBlock.appendChild(element);
		
        var element = document.createElement("div");
        element.className = "blindFog clckable";
        mapBlock.appendChild(element);
		
        var element = document.createElement("div");
        element.className = "units clckable";
        mapBlock.appendChild(element);
		
        var element = document.createElement("div");
        element.className = "closeWindow buttonBigMap";
        element.innerText = "X";
        windowBlock.appendChild(element);
	}
	function DisplaySettingsWindow() {
        var htmlBlock = document.getElementsByTagName("html")[0];

        var windowBlock = document.createElement("div");
        windowBlock.className = "window SettingsWindow clckable";
        htmlBlock.appendChild(windowBlock);
		
        var element = document.createElement("div");
        element.className = "closeWindow CreateSettings clckable";
        element.innerText = "X";
        windowBlock.appendChild(element);
		
        var contentBlock = document.createElement("div");
        contentBlock.className = "SettingsContent clckable";
        windowBlock.appendChild(contentBlock);

        var settingsMessage = document.createElement("div");
        settingsMessage.className = "settingsMessage clckable";
        settingsMessage.innerText = " ";
        windowBlock.appendChild(settingsMessage);

        var saveButton = document.createElement("div");
        saveButton.className = "settingsButton closeSettings CreateSettings clckable";
        saveButton.innerText = "Cancel";
        windowBlock.appendChild(saveButton);

        var saveButton = document.createElement("div");
        saveButton.className = "settingsButton saveSettings clckable";
        saveButton.innerText = "Save settings";
        windowBlock.appendChild(saveButton);

        var secondWindow = document.createElement("div");
        secondWindow.className = "secondWindow clckable";
        htmlBlock.appendChild(secondWindow);
		
        var text = document.createElement("h4");
        text.innerText = "Tabs settings:";
        secondWindow.appendChild(text);
		
        var text = document.createElement("p");
        text.className = "tab gameTab clckable";
        text.innerText = "Game";
        secondWindow.appendChild(text);
		
        var text = document.createElement("p");
        text.className = "tab soundTab clckable";
        text.innerText = "Sound";
        secondWindow.appendChild(text);
	}
	function SendChatMessage(message) {
        var chatElement = document.getElementsByClassName("chat")[0];
        var messageDiv = document.createElement("div");
        messageDiv.innerHTML = message;
        chatElement.appendChild(messageDiv);
	}
	function ClearInfo()
	{
        document.getElementsByClassName("cblock")[0].innerHTML = "";
        document.getElementsByClassName("rblock")[0].innerHTML = "";
	}
	function ClearElementsBlock(elementsBlock)
	{
        var allElementsBlock = document.getElementsByClassName(elementsBlock);
        if (allElementsBlock.length > 0)
			allElementsBlock[0].innerHTML = "";
	}
	function DrawInfo(parentElementClass, blockImagesName, detailInfo, drawImage, dinamicInfo, uniqueName, readableName, readableDescription, errorMessage, imagePath, hotkey, costInfo, tableStatistics, drawHP, imageID) 
	{
        var parentElement = document.getElementsByClassName(parentElementClass)[0];

        if (detailInfo)
        {
			if (drawHP)
			{
				var healthDiv = document.createElement("div");
				healthDiv.className = "healthback";
				healthDiv.innerHTML = "<div class=\"health unitHealth\"></div>";
				parentElement.appendChild(healthDiv);
			}

            var elementDiv = document.createElement("div");
            elementDiv.className = "title";
            elementDiv.innerHTML = readableName;
            parentElement.appendChild(elementDiv);
        }
		
		if (blockImagesName != "")
		{
            var elementsBlock;
			var newBlockImagesName = "clckable elementsBlock " + blockImagesName;

			if (errorMessage != "")
				parentElement.className += " error";

            var allElementsBlock = document.getElementsByClassName(newBlockImagesName);
            if (allElementsBlock.length <= 0)
            {
                var elementsBlock = document.createElement("div");
                elementsBlock.className = newBlockImagesName;
				parentElement.appendChild(elementsBlock);
            }
            else
                elementsBlock = allElementsBlock[0];
			parentElement = elementsBlock;
		}

		var createdImage;
        if (drawImage)
        {
            var elementContent = document.createElement("div");
            elementContent.className = "elementsContent";
            parentElement.appendChild(elementContent);
            
            if (errorMessage != "")
                elementContent.className += " error";

            createdImage = document.createElement("img");
            createdImage.className = "element clckable";
			createdImage.id = uniqueName;
            createdImage.setAttribute("src", imagePath);
            elementContent.appendChild(createdImage);
            if(hotkey != "")
            {
                var hotkeyDiv = document.createElement("div");
                hotkeyDiv.className = "hotkey";
                hotkeyDiv.innerHTML = hotkey;
                elementContent.appendChild(hotkeyDiv);
            }
        }

        if (detailInfo)
        {
            if (createdImage != null)
                createdImage.className += " detailInfo";

            var infoDiv = document.createElement("div");
            infoDiv.className = "infoBlock";
            parentElement.appendChild(infoDiv);

            var statusticDiv = document.createElement("div");
            statusticDiv.className = "description";
            statusticDiv.innerHTML = readableDescription;
            infoDiv.appendChild(statusticDiv);

            if (dinamicInfo)
            {
                var dinamicInfoDiv = document.createElement("div");
                dinamicInfoDiv.className = "dinamicInfo";
                parentElement.appendChild(dinamicInfoDiv);
            }

            if (costInfo != null && costInfo.length > 0)
            {
                var detailCostsDiv = document.createElement("div");
                detailCostsDiv.className = "stats costs";
                for (var index in costInfo)
                {
                    var statsDiv = document.createElement("p");
                    statsDiv.innerHTML = costInfo[index];
                    detailCostsDiv.appendChild(statsDiv);
                }
                parentElement.appendChild(detailCostsDiv);
            }
            if (errorMessage != "")
            {
                var errorMessageDiv = document.createElement("div");
                errorMessageDiv.className = "errorMessage";
                errorMessageDiv.innerHTML = errorMessage;
                parentElement.appendChild(errorMessageDiv);
            }
            if (tableStatistics != null && tableStatistics.length > 0)
            {
                var detailStatusticsDiv = document.createElement("div");
                detailStatusticsDiv.className = "stats";
                for (var index in tableStatistics)
                {
                    var stats = document.createElement("p");
                    stats.innerHTML = tableStatistics[index];
                    detailStatusticsDiv.appendChild(stats);
                }
                parentElement.appendChild(detailStatusticsDiv);
            }
        }
		return createdImage;
	}
	var intervalId;
	function CreateQueueElement(imagePath, index, timeToBuild, buildTimer)
	{
        var infoDiv = document.getElementsByClassName("query")[0];

        var progressBaseDiv = document.createElement("div");
        progressBaseDiv.className = "production clckable";
        progressBaseDiv.id = index;
        infoDiv.appendChild(progressBaseDiv);

        var elementDiv = document.createElement("img");
        elementDiv.setAttribute("src", imagePath);
        elementDiv.className = "clckable";
        elementDiv.id = index;
        progressBaseDiv.appendChild(elementDiv);
                
        if (index == 0)
        {
            var progressDiv = document.createElement("div");
            progressDiv.className = "clckable progressInterval";
			var startWidth = buildTimer / timeToBuild * 100;
            progressDiv.style.width = startWidth + "%";
			progressDiv.id = index;
            progressBaseDiv.appendChild(progressDiv);

			var pos = 0;
			intervalId = setInterval(frame, 500);
			function frame() {
				pos++;
				var newWigth = startWidth - pos * 2;
				progressDiv.style.width = newWigth + "%";
			}
        }
		return progressBaseDiv;
	}
	function DeleteQueue()
	{
		if(intervalId)
			clearInterval(intervalId);

        if (document.getElementsByClassName("query").length > 0)
            document.getElementsByClassName("query")[0].remove();
	}
</script>

<style type='text/css'>
@keyframes example {
  0%   {background-color: red;}
  100% {background-color: green;}
}
.animation {
  width: 100px;
  height: 100px;
  background-color: red;
  animation-name: example;
  animation-duration: 4s;
}
</style>

<div class="messages">
</div>
<div class="container">
    <div class="block">
		<div class="left content lblock">
			<div class="title resources">
			Food: &food;<br>
			Gold: &gold;<br>
			Wood: &wood;
			</div>
		</div>
		<div class="minimap">
			<div class="mapBlock">
				<img class="map clckable">
				</img>
				<div class="mapHolder clckable">
				</div>
				<div class="blindFog clckable">
				</div>
				<div class="units clckable">
				</div>
			</div>
		</div>
	</div>
	<div class="block">
		<div class="center content cblock clckable">
		</div>
	</div>
	<div class="block">
		<div class="right content rblock clckable">
		</div>
	</div>
</div>
<div class="containerDescription">
</div>
<div class="chatBox">
	<div class="chat">
	</div>
</div>

<div class="buttons">
	<div class="buttonMenu buttonMainMenu">Menu (f10)</div>
	<div class="buttonMenu buttonBigMap">Map (M)</div>
</div>

<div class="menu">
</div>

<div class="gameInfo">
</div>